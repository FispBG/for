<!DOCTYPE html>
<html>
<head>
    <title>Laba 5</title>
    <link rel="stylesheet" href="laba.css">
</head>
<body>
    <div class="container">
        <div id="window" class="title">
            <h1>ИССЛЕДОВАНИЕ ЭЛЕКТРОСТАТИЧЕСКОГО ПОЛЯ ДВУХПРОВОДНОЙ ЛИНИИ МЕТОДОМ МОДЕЛИРОВАНИЯ</h1>
        </div>
        <div>
            <button class="button" type="submit">Выйти</button>
        </div>
    </div>
    <div class="containerSecond">
        <div id="threejs-window">
            <canvas id="threejs-canvas"></canvas>
            <script type="module" src="laba.js"></script> 
        </div>
        <script>
            function downloadAllParagraphsAsTxt() {
                const dataDiv = document.getElementById("dataText");
                let content = "";
                dataDiv.querySelectorAll("p").forEach(function(p) {
                    content += p.textContent + "\n\n";
                });
                const blob = new Blob([content], {type: "text/plain;charset=utf-8"});
                const url = URL.createObjectURL(blob);
                const link = document.createElement("a");
                link.href = url;
                link.download = "download_all_paragraphs.txt";
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            
            document.addEventListener("DOMContentLoaded", function() {
                const button = document.createElement("button");
                button.innerText = "Скачать txt";
                button.onclick = downloadAllParagraphsAsTxt;
                button.style.display = "block";
                button.style.width = "100%";
                button.style.backgroundColor = "#ff0000";
                button.style.color = "white";
                button.style.border = "none";
                button.style.cursor = "pointer";
                button.style.padding = "10px 0";
                button.style.fontSize = "16px";
                button.style.marginTop = "20px";
                document.getElementById("dataText").appendChild(button);
            });
            </script>
        <div id="dataText">
            <p></p>
        </div>
    </div>
    <!-- Всплывающее окно -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <script src="labaButton.js"></script> 
            <p>Вы уверены, что хотите выйти? Ваша сессия будет удалена.</p>
            <form action="/logout" method="get">
                <button class="buttonSecondWindow" type="submit">Да, выйти</button>
            </form>
        </div>
    </div>
</body>
</html>